<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>CORTEX | Market Data</title>
    <link rel="stylesheet" href="css/base.css">
    <link rel="stylesheet" href="css/components.css">
    <link rel="stylesheet" href="css/market.css">
</head>
<body>
    <div class="scanline"></div>
    <div class="container">
        <div class="ticker">
            <div class="ticker-content" id="tickerContent">
                <span class="ticker-item">Loading live prices...</span>
            </div>
        </div>
        <header>
            <div class="logo">
                <img src="assets/logos/cortex-logo-dark.png" alt="CORTEX" class="logo-img">
                <span>v.0.1.0</span>
            </div>
            <a class="nav-item" href="index.html">&#8592; Dashboard</a>
            <div class="nav-item active">Market Data</div>
            <a class="nav-item" href="history.html">History</a>
            <a class="nav-item" href="cerebral.html">Cerebral</a>
            <a class="nav-item" href="tokenomics.html">Tokenomics</a>
        </header>

        <!-- Quotes + Calendar + News Grid -->
        <div class="section-header">
            <span>Market Intelligence</span>
            <span class="text-dim">QUOTES · CALENDAR · NEWS</span>
        </div>
        <div class="market-grid">
            <!-- Market Quotes Widget -->
            <div class="widget-cell widget-cell-quotes">
                <div class="tradingview-widget-container">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-market-quotes.js" async>
                    {
                        "colorTheme": "light",
                        "locale": "en",
                        "isTransparent": true,
                        "showSymbolLogo": true,
                        "backgroundColor": "#ffffff",
                        "support_host": "https://www.tradingview.com",
                        "width": "100%",
                        "height": "100%",
                        "symbolsGroups": [
                            {
                                "name": "Solana Ecosystem",
                                "symbols": [
                                    { "name": "TRADENATION:SOLANA", "displayName": "SOL/USD" },
                                    { "name": "BINANCE:SOLBTC", "displayName": "SOL/BTC" },
                                    { "name": "COINBASE:PUMPUSDC", "displayName": "PUMP/USDC" },
                                    { "name": "CRYPTOCAP:USDC", "displayName": "USDC" }
                                ]
                            }
                        ]
                    }
                    </script>
                </div>
            </div>

            <!-- Economic Calendar Widget -->
            <div class="widget-cell widget-cell-quotes">
                <div class="tradingview-widget-container" style="width:100%;height:100%;">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-events.js" async>
                    {
                        "colorTheme": "light",
                        "isTransparent": true,
                        "locale": "en",
                        "countryFilter": "",
                        "importanceFilter": "-1,0,1",
                        "width": "100%",
                        "height": "100%"
                    }
                    </script>
                </div>
            </div>

            <!-- Top Stories Widget -->
            <div class="widget-cell widget-cell-quotes">
                <div class="tradingview-widget-container" style="width:100%;height:100%;">
                    <div class="tradingview-widget-container__widget"></div>
                    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-timeline.js" async>
                    {
                        "displayMode": "adaptive",
                        "feedMode": "all_symbols",
                        "colorTheme": "light",
                        "isTransparent": true,
                        "locale": "en",
                        "width": "100%",
                        "height": "100%"
                    }
                    </script>
                </div>
            </div>
        </div>

        <!-- Advanced Chart Section -->
        <div class="section-header">
            <span>SOL Advanced Chart</span>
            <span class="text-dim">TRADENATION:SOLANA</span>
        </div>
        <div class="chart-section">
            <div class="tradingview-widget-container" style="height:100%;width:100%;">
                <div class="tradingview-widget-container__widget" style="height:100%;width:100%;"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-advanced-chart.js" async>
                {
                    "allow_symbol_change": true,
                    "calendar": false,
                    "details": true,
                    "hide_side_toolbar": false,
                    "hide_top_toolbar": false,
                    "hide_legend": false,
                    "hide_volume": false,
                    "hotlist": true,
                    "interval": "D",
                    "locale": "en",
                    "save_image": true,
                    "style": "8",
                    "symbol": "TRADENATION:SOLANA",
                    "theme": "light",
                    "timezone": "Etc/UTC",
                    "backgroundColor": "#ffffff",
                    "gridColor": "rgba(15, 15, 15, 0.06)",
                    "watchlist": [],
                    "withdateranges": true,
                    "range": "1D",
                    "compareSymbols": [],
                    "show_popup_button": true,
                    "popup_height": "650",
                    "popup_width": "1000",
                    "studies": [
                        "STD;24h%Volume",
                        "STD;Advance%1Decline%1Ratio",
                        "STD;Volume%1Delta",
                        "PriceVolumeTrend@tv-basicstudies",
                        "STD;Price%1Target"
                    ],
                    "autosize": true
                }
                </script>
            </div>
        </div>

        <!-- Depth Chart + Order Book -->
        <div class="section-header">
            <span>Order Book Depth</span>
            <span class="text-dim" id="obMeta">SOL/USDT · Loading...</span>
        </div>
        <div class="ob-grid">
            <div id="depthChart" style="height:350px; border-right: 1px solid var(--border); padding: 1rem; position: relative;">
                <svg id="depthSvg" width="100%" height="100%"></svg>
            </div>
            <div id="orderBookPanel" style="height:350px; overflow-y:auto;">
                <div style="display:grid; grid-template-columns: 1fr 1fr; height:100%;">
                    <div id="obBids" style="border-right:1px solid var(--border); overflow-y:auto;"></div>
                    <div id="obAsks" style="overflow-y:auto;"></div>
                </div>
            </div>
        </div>
        <div class="ob-summary">
            <div class="ob-summary-cell">
                <div class="ob-summary-label">Best Bid</div>
                <div class="ob-summary-value text-green" id="obBestBid">--</div>
            </div>
            <div class="ob-summary-cell">
                <div class="ob-summary-label">Best Ask</div>
                <div class="ob-summary-value text-red" id="obBestAsk">--</div>
            </div>
            <div class="ob-summary-cell">
                <div class="ob-summary-label">Spread</div>
                <div class="ob-summary-value" id="obSpread">--</div>
            </div>
            <div class="ob-summary-cell">
                <div class="ob-summary-label">Bid Depth</div>
                <div class="ob-summary-value text-green" id="obBidDepth">--</div>
            </div>
            <div class="ob-summary-cell">
                <div class="ob-summary-label">Ask Depth</div>
                <div class="ob-summary-value text-red" id="obAskDepth">--</div>
            </div>
        </div>

        <!-- Full-width Heatmap Section -->
        <div class="section-header">
            <span>Crypto Heatmap — Full View</span>
            <span class="text-dim">MARKET CAP · 1H CHANGE</span>
        </div>
        <div class="heatmap-section">
            <div class="tradingview-widget-container" style="width:100%;height:100%;">
                <div class="tradingview-widget-container__widget" style="width:100%;height:100%;"></div>
                <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-crypto-coins-heatmap.js" async>
                {
                    "dataSource": "Crypto",
                    "blockSize": "market_cap_calc",
                    "blockColor": "change|60",
                    "locale": "en",
                    "symbolUrl": "",
                    "colorTheme": "light",
                    "hasTopBar": true,
                    "isDataSetEnabled": true,
                    "isZoomEnabled": true,
                    "hasSymbolTooltip": true,
                    "isMonoSize": false,
                    "width": "100%",
                    "height": "100%"
                }
                </script>
            </div>
        </div>

        <footer>
            <div>CORTEX MARKET DATA</div>
            <div>SOLANA MAINNET</div>
            <div>&copy;2026 WIENER LABS</div>
        </footer>
    </div>

    <script src="js/config.js"></script>
    <script src="js/api.js"></script>
    <script src="js/ticker.js"></script>
    <script src="js/wallet.js"></script>
    <script src="js/toast.js"></script>
    <script src="js/market-app.js"></script>
</body>
</html>
